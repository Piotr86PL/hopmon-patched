# Patches for Hopmon

This repository contains files needed to patch [Hopmon 2.0](http://saitogames.com/hopmon/index.htm) made by Saito Games.
Hopmon is an old game from 2001, primarily created for DirectX 7 platforms (e.g., Windows 2000, Windows XP). It uses MIDI music composed by T.Kinoshita using a Roland SK-88 Pro, which is played back using the Windows Multimedia Library.
Around 2020, Saito Games released Hopmon as freeware, so anyone can download it and play it. Although developers adapted the game for newer systems, some components are causing trouble.

Here you can find binary patches to the Hopmon executable (in SVF format), WAV music that replaces MIDI tracks, and the DDrawCompat library to fix issues with game stability (and also add antialiasing).

## Changes in the executable
- Increased resolution cap in the config menu up to 4K (only tested on 1080p)
- Modified sound functions to play WAV files instead of MIDI tracks
- Added Polish assets from the Polish version of the game (as a separate patch)

## How to install
1. Download [Hopmon 2.0](http://saitogames.com/hopmon/index.htm) and install it.
2. Download this repository as a zip file and extract it to the Hopmon install directory (e.g., C:\Program Files (x86)\Saito Games\Hopmon)
3. Extract music files using tools like 7-zip or WinRAR into games main directory (where Hopmon.exe is). Then you can delete *music_wav_splitted* directory.
4. (Optional) Remove *Hopmon_patched_pl.svf*/*Hopmon_patched_en.svf* (depending on which language version you want, you can keep both of them)
5. Run *SVF_extractor_v2.bat* to patch Hopmon.exe (after that, you can delete this bat)  
   **At this point, some Antiviruses (e.g., Windows Defender) might get upset, but this is a false positive! These binaries do not contain any malware.
   You can scan it using VirusTotal or other AV software. The original game can also be flagged as a virus - it uses very old methods and direct access to hardware, so antiviruses might think of it as a threat.**
6. Edit DDrawCompat.ini and put your desired resolutions in the **SupportedResolutions** section, or remove it entirely (then Hopmon will show all supported resolutions)
7. Run *Hopmon_patched_xx.exe* and start playing! You can delete the original Hopmon.exe and rename the patched version. At this point, original MIDI files are also not necessary.

## Credits and Licenses
- Thanks to James Saito for making Hopmon and T.Kinoshita for an excellent soundtrack!
- [DDrawCompat](https://github.com/narzoul/DDrawCompat) made by narzoul under the BSD Zero Clause License
- FLAC versions (converted to WAV) of Hopmon OST generated by [Tech&Music Extra](https://www.youtube.com/watch?v=G_BOY0J7tlI)
- SVF_extractor_v2.bat script by Sajjo on the [MDL Forum](https://forums.mydigitallife.net/threads/windows-10-svf-repository.63324/page-152#post-1511181)
- Polish assets were made by TopWare Poland for Hopmon release in Poland

## License of patches
I don't even know if I can copyright a bunch of bits. The Polish patch even contains assets not made by me. Nonetheless, you can do whatever you want with .svf files. Just remember that redistributing modified binaries of Hopmon is against its EULA.
